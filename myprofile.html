<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Synk - Sign Up</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
body { font-family:'Poppins',sans-serif; background:#F5F3FF; display:flex; justify-content:center; align-items:center; height:100vh; }
.signup-card { background:white; padding:40px; border-radius:25px; box-shadow:0 15px 40px rgba(139,92,246,.15); width:400px; }
.signup-card h2 { color:#8B5CF6; margin-bottom:25px; text-align:center; }
.signup-card input, .signup-card select, .signup-card textarea { width:100%; padding:12px 15px; margin-bottom:15px; border-radius:15px; border:1px solid #ccc; }
.signup-card button { width:100%; padding:14px; border:none; border-radius:25px; background:#8B5CF6; color:white; font-weight:600; cursor:pointer; transition:.3s; }
.signup-card button:hover { transform:scale(1.05); box-shadow:0 12px 30px rgba(0,0,0,.2); }
</style>
</head>
<body>

<div class="signup-card">
  <h2>Create Your Account</h2>
  <input type="text" id="name" placeholder="Full Name" required>
  <input type="email" id="email" placeholder="Email" required>
  <input type="password" id="password" placeholder="Password" required>
  <input type="date" id="dob" placeholder="Date of Birth" required>
  <select id="gender" required>
    <option value="">Select Gender</option>
    <option>Male</option>
    <option>Female</option>
    <option>Other</option>
  </select>
  <input type="text" id="field" placeholder="Field of Interest (e.g. AI, Design)" required>
  <input type="text" id="skills" placeholder="Skills (comma separated)" required>
  <input type="text" id="interests" placeholder="Interests (comma separated)">
  <input type="text" id="subjects" placeholder="Subjects (comma separated)">
  <input type="text" id="sports" placeholder="Sports (comma separated)">
  <button id="signupBtn">Sign Up</button>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyD0819UL5ciYMK3gixRnIC4ty6ySGxReAg",
  authDomain: "synk-27b9a.firebaseapp.com",
  projectId: "synk-27b9a",
  storageBucket: "synk-27b9a.appspot.com",
  messagingSenderId: "404969184639",
  appId: "1:404969184639:web:aec708cc8475d51c780e4a"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

document.getElementById("signupBtn").onclick = () => {
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const dob = document.getElementById("dob").value;
  const gender = document.getElementById("gender").value;
  const field = document.getElementById("field").value;
  const skills = document.getElementById("skills").value.split(',').map(s => s.trim());
  const interests = document.getElementById("interests").value.split(',').map(s => s.trim());
  const subjects = document.getElementById("subjects").value.split(',').map(s => s.trim());
  const sports = document.getElementById("sports").value.split(',').map(s => s.trim());

  auth.createUserWithEmailAndPassword(email, password)
    .then(cred => {
      // Save extra data in Firestore
      return db.collection('users').doc(cred.user.uid).set({
        name, email, dob, gender, field, skills, interests, subjects, sports,
        photoURL: "https://images.unsplash.com/photo-1607746882042-944635dfe10e"
      });
    })
    .then(() => {
      alert("Account created successfully!");
      window.location.href = "profile.html";
    })
    .catch(err => alert(err.message));
};
</script>
</body>
</html>